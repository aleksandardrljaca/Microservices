<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Machine Control</title>
</head>
<body>
    <button id="controlButton1">TurnOff M1</button>
    <button id="controlButton2">TurnOff M2</button>
    <button id="controlButton3">TurnOff M3</button>
    <script>
        function m1() {
            // Šaljemo GET zahtjev na /machine/state
            fetch('http://localhost:3001/machine/1/state', {
                method: 'GET'
            })
            .then(response => {
                if (response.ok) {
                    return response.text();
                }
                throw new Error('Network response was not ok.');
            })
            .then(data => {
                console.log(data);
                alert(data); // Prikažemo odgovor u alertu
            })
            .catch(error => {
                console.error('There has been a problem with your fetch operation:', error);
                alert('Došlo je do greške prilikom komunikacije s serverom.');
            });
        }
        function m2() {
            // Šaljemo GET zahtjev na /machine/state
            fetch('http://localhost:3001/machine/2/state', {
                method: 'GET'
            })
            .then(response => {
                if (response.ok) {
                    return response.text();
                }
                throw new Error('Network response was not ok.');
            })
            .then(data => {
                console.log(data);
                alert(data); // Prikažemo odgovor u alertu
            })
            .catch(error => {
                console.error('There has been a problem with your fetch operation:', error);
                alert('Došlo je do greške prilikom komunikacije s serverom.');
            });
        }
        function m3() {
            // Šaljemo GET zahtjev na /machine/state
            fetch('http://localhost:3001/machine/3/state', {
                method: 'GET'
            })
            .then(response => {
                if (response.ok) {
                    return response.text();
                }
                throw new Error('Network response was not ok.');
            })
            .then(data => {
                console.log(data);
                alert(data); // Prikažemo odgovor u alertu
            })
            .catch(error => {
                console.error('There has been a problem with your fetch operation:', error);
                alert('Došlo je do greške prilikom komunikacije s serverom.');
            });
        }

        // Dodajemo event listener na klik dugmeta
        document.getElementById('controlButton1').addEventListener('click', m1);
        document.getElementById('controlButton2').addEventListener('click', m2);
        document.getElementById('controlButton3').addEventListener('click', m3);
    </script>
</body>
</html>
